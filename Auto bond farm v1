-- Auto Farm Bonds + Auto Replay + ESP Bonds (Hiển thị tên vật phẩm) + GUI Drag by ChatGPT

-- Services
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local player = Players.LocalPlayer
local farming = false

-- GUI setup
local gui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
gui.Name = "BondFarmGUI"
gui.ResetOnSpawn = false

local frame = Instance.new("Frame", gui)
frame.Size = UDim2.new(0, 200, 0, 100)
frame.Position = UDim2.new(0, 100, 0, 100)
frame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
frame.Active = true
frame.Draggable = true -- Kéo được

local button = Instance.new("TextButton", frame)
button.Size = UDim2.new(1, 0, 1, 0)
button.Text = "Start Auto Farm"
button.BackgroundColor3 = Color3.fromRGB(60, 120, 60)
button.TextColor3 = Color3.new(1, 1, 1)
button.Font = Enum.Font.SourceSansBold
button.TextSize = 20

local espToggle = Instance.new("TextButton", frame)
espToggle.Size = UDim2.new(1, 0, 0, 30)
espToggle.Position = UDim2.new(0, 0, 1, 0)
espToggle.Text = "Toggle ESP"
espToggle.BackgroundColor3 = Color3.fromRGB(60, 60, 200)
espToggle.TextColor3 = Color3.new(1, 1, 1)
espToggle.Font = Enum.Font.SourceSansBold
espToggle.TextSize = 18

local espEnabled = false

-- Farm bonds
function farmBonds()
    for _, v in pairs(workspace:GetDescendants()) do
        if v:IsA("Part") and v.Name == "Bond" then
            player.Character.HumanoidRootPart.CFrame = v.CFrame + Vector3.new(0, 3, 0)
            wait(0.3)
            firetouchinterest(player.Character.HumanoidRootPart, v, 0)
            firetouchinterest(player.Character.HumanoidRootPart, v, 1)
        end
    end
end

-- Auto replay
function autoReplay()
    local guiElements = player:WaitForChild("PlayerGui"):GetDescendants()
    for _, v in pairs(guiElements) do
        if v:IsA("TextButton") and (v.Text:lower():find("replay") or v.Text:lower():find("retry") or v.Name:lower():find("replay")) then
            print("Đã tìm thấy nút replay: ", v.Name)
            pcall(function()
                v:Activate()
            end)
        end
    end
end

-- ESP Bonds with item name
function drawESP()
    for _, v in pairs(workspace:GetDescendants()) do
        if v:IsA("Part") and v.Name == "Bond" and espEnabled then
            local box = Instance.new("Frame")
            box.Size = UDim2.new(0, 10, 0, 10) -- Kích thước 1cm (10px)
            box.Position = UDim2.new(0, v.Position.X, 0, v.Position.Y)
            box.BackgroundTransparency = 0.5
            box.BorderColor3 = Color3.fromRGB(255, 0, 0) -- Màu viền đỏ
            box.BorderSizePixel = 2
            box.Parent = gui
            
            -- Tạo Label hiển thị tên vật phẩm
            local label = Instance.new("TextLabel")
            label.Size = UDim2.new(0, 100, 0, 20)
            label.Position = UDim2.new(0, v.Position.X, 0, v.Position.Y - 10)
            label.Text = "Bond"
            label.TextColor3 = Color3.fromRGB(255, 255, 255)
            label.BackgroundTransparency = 1
            label.Parent = gui
            
            game:GetService("Debris"):AddItem(box, 0.1) -- Xoá ESP sau 0.1 giây
            game:GetService("Debris"):AddItem(label, 0.1) -- Xoá Label sau 0.1 giây
        end
    end
end

-- Toggle ESP
espToggle.MouseButton1Click:Connect(function()
    espEnabled = not espEnabled
    espToggle.Text = espEnabled and "ESP ON" or "ESP OFF"
    espToggle.BackgroundColor3 = espEnabled and Color3.fromRGB(200, 60, 60) or Color3.fromRGB(60, 60, 200)
end)

-- Nút toggle
button.MouseButton1Click:Connect(function()
    farming = not farming
    button.Text = farming and "Stop Auto Farm" or "Start Auto Farm"
    button.BackgroundColor3 = farming and Color3.fromRGB(200, 60, 60) or Color3.fromRGB(60, 120, 60)
end)

-- Main loop
RunService.Stepped:Connect(function()
    if farming then
        pcall(farmBonds)
        wait(1)
        pcall(autoReplay)
    end
    pcall(drawESP) -- Vẽ ESP
end)
